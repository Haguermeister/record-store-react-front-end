{"ast":null,"code":"var _jsxFileName = \"/Users/austinhague/Full_Stack_UofR/Java/Projects/Week 2/02-we-record-store-front-end/starter/src/Records.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport \"./Records.css\";\nimport RecordCard from \"./RecordCard.js\";\nimport RecordForm from \"./RecordForm.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Records() {\n  _s();\n\n  const [records, setRecords] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [scopedRecord, setScopedRecord] = useState({});\n  const [error, setError] = useState();\n  useEffect(() => {\n    fetch(\"http://localhost:8080/records\").then(response => response.json()).then(result => setRecords(result)).catch(console.log);\n  }, []);\n\n  function addClick() {}\n\n  function notify(_ref) {\n    let {\n      action,\n      record,\n      error\n    } = _ref;\n\n    if (error) {\n      setError(error);\n      setShowForm(false);\n      return;\n    }\n\n    switch (action) {\n      case \"delete\":\n        setRecords(records.filter(r => r.id !== record.id));\n        break;\n\n      case \"edit\":\n        setRecords(records.map(r => {\n          if (r.id === record.id) {\n            return record;\n          }\n\n          return r;\n        }));\n        break;\n\n      case \"edit-form\":\n        setShowForm(true);\n        setScopedRecord(record);\n        return;\n\n      default:\n        alert(\"INVALID ACTION!\", action);\n    }\n\n    setError(\"\");\n    setShowForm(false);\n  }\n\n  if (showForm) {\n    return /*#__PURE__*/_jsxDEV(RecordForm, {\n      record: scopedRecord,\n      notify: notify\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"recordTitle\",\n        children: \"Records\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: addClick,\n        children: \"Add a Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        id: \"records\",\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Artist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Album\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: records.map(r => /*#__PURE__*/_jsxDEV(RecordCard, {\n            record: r,\n            notify: notify\n          }, r.recordId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Records, \"oAh21u1XfwofpJQWY+sedq/iIF8=\");\n\n_c = Records;\nexport default Records;\n\nvar _c;\n\n$RefreshReg$(_c, \"Records\");","map":{"version":3,"sources":["/Users/austinhague/Full_Stack_UofR/Java/Projects/Week 2/02-we-record-store-front-end/starter/src/Records.js"],"names":["useState","useEffect","RecordCard","RecordForm","Records","records","setRecords","showForm","setShowForm","scopedRecord","setScopedRecord","error","setError","fetch","then","response","json","result","catch","console","log","addClick","notify","action","record","filter","r","id","map","alert","recordId"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport \"./Records.css\";\r\nimport RecordCard from \"./RecordCard.js\";\r\nimport RecordForm from \"./RecordForm.js\";\r\n\r\nfunction Records() {\r\n  const [records, setRecords] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [scopedRecord, setScopedRecord] = useState({});\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8080/records\")\r\n      .then((response) => response.json())\r\n      .then((result) => setRecords(result))\r\n      .catch(console.log);\r\n  }, []);\r\n\r\n  function addClick() {}\r\n\r\n  function notify({ action, record, error }) {\r\n    if (error) {\r\n      setError(error);\r\n      setShowForm(false);\r\n      return;\r\n    }\r\n    switch (action) {\r\n      case \"delete\":\r\n        setRecords(records.filter((r) => r.id !== record.id));\r\n        break;\r\n      case \"edit\":\r\n        setRecords(\r\n          records.map((r) => {\r\n            if (r.id === record.id) {\r\n              return record;\r\n            }\r\n            return r;\r\n          })\r\n        );\r\n        break;\r\n      case \"edit-form\":\r\n        setShowForm(true);\r\n        setScopedRecord(record);\r\n        return;\r\n      default:\r\n        alert(\"INVALID ACTION!\", action);\r\n    }\r\n    setError(\"\");\r\n    setShowForm(false);\r\n  }\r\n\r\n  if (showForm) {\r\n    return <RecordForm record={scopedRecord} notify={notify} />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n      <div>\r\n        <h1 id=\"recordTitle\">Records</h1>\r\n        <button className=\"btn btn-primary\" type=\"button\" onClick={addClick}>\r\n          Add a Recipe\r\n        </button>\r\n        <table id=\"records\">\r\n          <tr>\r\n            <th>Artist</th>\r\n            <th>Album</th>\r\n            <th>Year</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n          <tbody>\r\n            {records.map((r) => (\r\n              <RecordCard key={r.recordId} record={r} notify={notify} />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Records;\r\n"]},"metadata":{},"sourceType":"module"}